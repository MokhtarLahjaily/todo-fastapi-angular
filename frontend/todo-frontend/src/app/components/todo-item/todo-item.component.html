<div class="todo-item" [class.completed]="todo.completed">
  <div class="todo-content">
    <mat-checkbox
      [checked]="todo.completed"
      (change)="onToggleComplete()"
      color="primary"
      class="todo-checkbox"
    ></mat-checkbox>

    <div class="todo-details">
      <h3 class="todo-title" [class.completed]="todo.completed">
        {{ todo.title }}
      </h3>
      
      <p class="todo-description" *ngIf="todo.description">
        {{ todo.description }}
      </p>

      <div class="todo-meta">
        <mat-chip *ngIf="todo.due_date" class="due-date-chip">
          <mat-icon class="chip-icon">event</mat-icon>
          {{ todo.due_date | date:'dd/MM/yyyy' }}
        </mat-chip>

        <mat-chip [class]="'priority-chip ' + todo.priority.toLowerCase()">
          <mat-icon class="chip-icon">flag</mat-icon>
          {{ todo.priority }}
        </mat-chip>

        <mat-chip *ngIf="todo.completed" class="completed-chip">
          <mat-icon class="chip-icon">check_circle</mat-icon>
          Termin√©e
        </mat-chip>
      </div>
    </div>
  </div>

  <div class="todo-actions">
    <button mat-icon-button (click)="onEdit()" class="edit-button">
      <mat-icon>edit</mat-icon>
    </button>
    <button mat-icon-button (click)="onDelete()" class="delete-button">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
</div>
